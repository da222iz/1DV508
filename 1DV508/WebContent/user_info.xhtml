<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui">
<h:head>


<h:outputStylesheet library="css" name="UserInfo.css" />
<title>User Information</title>
	<style> 
	.Bimage{
     background-image:url(/1DV508/resources/css/background.jpg);
     background-size:100%;
   
 }
	</style>


</h:head>
<h:body class="Bimage">
<h:form>


	<div id="header" class="container">
		
			
			  <div id="vSearch">
			 <h:commandLink id="searchlink" value="Search" action="#{movieDB.displaySearchResults()}" />
  <h:inputText  value="#{movieDB.searchInput}" style="border-radius: 30px 30px 30px 30px; height : 30px; width : 219px; float:left; position: relative;"/>
			</div>
			
			
			<div id="menu">
			<ul>
  <li><a class="active" href="index.xhtml">Home</a></li>
  <li class="dropdown">
  <h:commandLink id="Movies" class="dropbtn" value="Movies" action="#{movieDB.displayAllMovies()}" />
    <div class="dropdown-content">
    
           <div >
            <h:dataTable value="#{genreDB.genres}" var="genre" >
                         
       				<h:column>
       				<h:commandLink id="genrelink" value="#{genre.value}" action="#{movieDB.displayGenreMovies(genre)}" />
                    </h:column>
               
         </h:dataTable>
        </div>
        </div>
  </li>
  <li><a class="badge1" data-badge="(#{cart.cart.size()})" href="my_cart.xhtml">Cart</a></li>
 
  <li><h:commandLink action="#{orderDB.supportLink()}" value="Support" /></li>
</ul>
			</div>
		</div>
	
 		<div id="wrapper" class="container">
 		<div id="page">
 		
 		
 		
        <div class="table center">
       <div class="table">
			<h:dataTable value="#{cart.cart}" var="cartmovie">
				<h:column>
					<f:facet name="header">Movie Title</f:facet>
					#{cartmovie.movie.title}
				</h:column>
				<h:column>
					<f:facet name="header">Quantity</f:facet>
					#{cartmovie.number}
				</h:column>
				<h:column>
					<f:facet name="header">Unit Price</f:facet>
					#{cartmovie.movie.price}
				</h:column>
				

			</h:dataTable>
			
		</div>
		<h3><b>Total price: </b> #{cart.totalPrice}</h3>
        </div>
        <div class="center">
			User Information
		</div>
		<br />
	<div class="center"   >
Name <h:inputText id="name"  required="true" value="#{cart.temp.name}" requiredMessage="Please enter your name"  />
		<p:message for="name" />
	<br />
Address <h:inputText id="address" required="true" value="#{cart.temp.address}" requiredMessage="Please enter your address" />
		<p:message for="address" />
		<br />
ZIP		 <h:inputText id="zip" required="true" value="#{cart.temp.zip}" requiredMessage="Please enter your zip code" />
		<p:message for="zip" />
		<br />
City <h:inputText id="city" required="true" value="#{cart.temp.cityName}" requiredMessage="Please enter your city" />
		<p:message for="city" />
		<br />
Phone number <h:inputText id="phone" required="true" value="#{cart.temp.phone}" requiredMessage="Please enter your phone number" />
		<p:message for="phone" />
		<br />
		Email
		<h:inputText id="email" value="#{cart.temp.email}" required="true" requiredMessage="Please enter your email" validatorMessage="The email is not valid">
		    <f:validateRegex pattern="[\w\.-]*[a-zA-Z0-9_]@[\w\.-]*[a-zA-Z0-9]\.[a-zA-Z][a-zA-Z\.]*[a-zA-Z]" />
		</h:inputText>
		<p:message for="email" />
		<br />
<br />
		<h:commandButton id="place" value="Place Order" action="#{cart.placeOrder()}" >

</h:commandButton><br />

		<br />
	</div> 	
	</div> 
</div>     
</h:form>
</h:body>
</html>