<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui">
      
<h:head>
	<h:outputStylesheet library="css" name="style.css" />
	<title>manage_movies</title>
</h:head>
 <h:body>     
    <h:form>
        <div class="menue">
            <ul id="menu" >
                <li><a class="active" href="admin_home.xhtml">Home</a></li>
				<li><h:commandLink value="Products" action="#{movieDB.manageProducts()}" /></li>
				<li><a class="active" href="manage_order.xhtml">Orders</a></li>
				<li><a class="active" href="manage_accounts.xhtml">Accounts</a></li>
				<li><a class="active" href="manage_genres.xhtml">Categories</a></li>
				<h:commandButton value="Logout" action="#{userDB.logout()}"/>
            </ul>
        </div>

        <div class="center">
            Manage Movies
        </div>

        
        <div class="table">
        <p:dataTable var="m" value="#{movieDB.adminMovieList}" rows="10"
                         paginator="true"	
                         paginatorPosition="bottom"
                         paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                         rowsPerPageTemplate="10,20,100">
        <p:column headerText="Id" sortBy="#{m.id}">
            <h:outputText value="#{m.id}" />
        </p:column>
 
        <p:column headerText="Title" sortBy="#{m.title}" width="350">
            <h:outputText value="#{m.title}" />
        </p:column>
 
        <p:column headerText="Genre" sortBy="#{m.genre}" width="150">
            <h:outputText value="#{m.genre}" />
        </p:column>
 
        <p:column headerText="Quantity" sortBy="#{m.quantity}">
            <h:outputText value="#{m.quantity}" />
        </p:column>
        <p:column headerText="Price" sortBy="#{m.price}">
            <h:outputText value="#{m.price}" />
        </p:column>   
        <p:column headerText="Edit">
            <h:commandButton value="edit" action="#{movieDB.edit(m)}" />
        </p:column>  
        <p:column headerText="Delete">
            <h:commandButton value="delete" action="#{movieDB.delete(m)}" />
        </p:column>               
    </p:dataTable>
        </div>
        <div class="center">
            <br />
            <h:commandButton value="add movie" action="#{movieDB.goToAdd()}"/>
            <br />
        </div>
    </h:form>
</h:body>
</html>