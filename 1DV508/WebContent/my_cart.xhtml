<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html">
<h:head>


<h:outputStylesheet library="css" name="myCart.css" />
<title>Home</title>
	<style> 
	.Bimage{
     background-image:url(/1DV508/resources/css/background.jpg);
     background-size:100%;
   
 }
	</style>
</h:head>
<h:body class="Bimage">
<h:form>


<div id="wrapper">
	<div id="header-wrapper">
		<div id="header" class="container">
			<div id="logo">
				<h1><a href="#">1DV508</a></h1>
			</div>
			
			  <div id="v">
			 <h:commandLink id="searchlink" value="Search" action="#{movieDB.displaySearchResults()}" />
  <h:inputText  value="#{movieDB.searchInput}" style="border-radius: 30px 30px 30px 30px; height : 30px; width : 219px; float:left; position: relative;"/>
			</div>
			
			
			<div id="menu">
			<ul>
  <li><a class="active" href="index.xhtml">Home</a></li>
  <li class="dropdown">
  <h:commandLink id="Movies" class="dropbtn" value="Movies" action="#{movieDB.displayAllMovies()}" />
    <div class="dropdown-content">
    
           <div >
            <h:dataTable value="#{genreDB.genres}" var="genre" >
                         
       				<h:column>
       				<h:commandLink id="genrelink" value="#{genre.value}" action="#{movieDB.displayGenreMovies(genre)}" />
                    </h:column>
               
         </h:dataTable>
        </div>
        </div>
  </li>
  <li><a href="my_cart.xhtml">Cart</a></li>
 
  <li><h:commandLink action="#{orderDB.supportLink()}" value="Support" /></li>
</ul>
			</div>
		</div>
	</div>
	<!-- end #header -->
	<div id="page">
	
			
					  <div class="table center">
       <div class="table">
			<h:dataTable value="#{cart.cart}" var="cartmovie"   styleClass="users" border="1"
				headerClass="userTableHeader"
				rowClasses="characterTableOddRow,characterTableEvenRow">
				<h:column>
					<f:facet name="header">Movie Title</f:facet>
					#{cartmovie.movie.title}
				</h:column>
				<h:column>
					<f:facet name="header">Quantity</f:facet>
					#{cartmovie.number}
				</h:column>
				
						<h:column>
					<f:facet name="header"></f:facet>
					<h:commandButton action="#{cart.decreaseQuantity(cartmovie)}" value="-" />
				</h:column>
				
					<h:column>
					<f:facet name="header"></f:facet>
					<h:commandButton action="#{cart.increaseQuantity(cartmovie)}" value="+" />
				</h:column>
				
			
				
				
				
				
				
				
				
				
				<h:column>		
				
					<f:facet name="header">Unit Price</f:facet>
					#{cartmovie.movie.price}
				</h:column>
				<h:column>
                    <f:facet name="header">Delete</f:facet>
                    <h:commandButton value="delete" action="#{cart.delete(cartmovie)}" />
                </h:column>

			</h:dataTable>
			</div>
		<h3><b>Total price: </b> #{cart.totalPrice}</h3>
        </div>
        
         <h:commandButton value="Check Out" action="user_info" />
          <h:commandButton value="Continue Shopping" action="index" />
           <h:commandButton value="Empty Card" action="#{cart.emptyCart()}" />
			
			
			
			
			
		</div>
        </div>
					
	
	<!-- end #page --> 
	
		


<div id="footer">
	<p>&copy; Untitled. All rights reserved.Design by</p>
</div>
<!-- end #footer -->
       
</h:form>
</h:body>
</html>